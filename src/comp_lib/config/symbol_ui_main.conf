# symbol_ui_main.conf - Main UI gesture configuration
# This config is ACTIVE ONLY when in component mode
# All gestures are conflict-free with Xochitl

# PALETTE CONTROL
# ================

# Toggle palette visibility: 4-finger tap anywhere
gesture=tap
fingers=4
command=/opt/bin/symbol_ui_controller toggle_palette | /opt/bin/lamp
duration=0

# Scroll down: 3-finger swipe down in palette zone
gesture=swipe
direction=down
fingers=3
zone=0.72 0.0 1.0 1.0
command=/opt/bin/symbol_ui_controller scroll_down | /opt/bin/lamp
distance=100

# Scroll up: 3-finger swipe up in palette zone
gesture=swipe
direction=up
fingers=3
zone=0.72 0.0 1.0 1.0
command=/opt/bin/symbol_ui_controller scroll_up | /opt/bin/lamp
distance=100

# Select component: 2-finger tap in palette zone
gesture=tap
fingers=2
zone=0.72 0.0 1.0 1.0
command=/opt/bin/symbol_ui_controller select_component | /opt/bin/lamp
duration=0

# Cancel selection: 2-finger tap outside palette
gesture=tap
fingers=2
zone=0.0 0.0 0.72 1.0
command=/opt/bin/symbol_ui_controller cancel_selection | /opt/bin/lamp
duration=0

# CANVAS CONTROL
# ==============

# Place component: 2-finger tap in canvas zone
# Note: TAP_X and TAP_Y should be set by genie (TODO: verify genie provides these)
gesture=tap
fingers=2
zone=0.0 0.0 0.72 1.0
command=export TAP_X=$GESTURE_X TAP_Y=$GESTURE_Y && /opt/bin/symbol_ui_controller place_component | /opt/bin/lamp
duration=0

# Scale up: 3-finger swipe right in canvas zone
gesture=swipe
direction=right
fingers=3
zone=0.0 0.0 0.72 1.0
command=/opt/bin/symbol_ui_controller scale_up
distance=150

# Scale down: 3-finger swipe left in canvas zone
gesture=swipe
direction=left
fingers=3
zone=0.0 0.0 0.72 1.0
command=/opt/bin/symbol_ui_controller scale_down
distance=150

# GLOBAL ACTIONS
# ==============

# Clear screen: 4-finger swipe up
gesture=swipe
direction=up
fingers=4
command=/opt/bin/symbol_ui_controller clear_screen | /opt/bin/lamp
distance=200

# Rotate CW: 3-finger swipe right (no zone - anywhere)
gesture=swipe
direction=right
fingers=3
command=/opt/bin/symbol_ui_controller rotate_cw
distance=150

# Rotate CCW: 3-finger swipe left (no zone - anywhere)
gesture=swipe
direction=left
fingers=3
command=/opt/bin/symbol_ui_controller rotate_ccw
distance=150
